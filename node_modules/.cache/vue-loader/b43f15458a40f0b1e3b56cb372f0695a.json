{"remainingRequest":"/home/october/Documents/code/inshaka/insh-vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/october/Documents/code/inshaka/insh-vue/src/components/Lists.vue?vue&type=style&index=0&id=b24905d6&lang=scss&scoped=true","dependencies":[{"path":"/home/october/Documents/code/inshaka/insh-vue/src/components/Lists.vue","mtime":1612699208764},{"path":"/home/october/Documents/code/inshaka/insh-vue/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/october/Documents/code/inshaka/insh-vue/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":499162500000},{"path":"/home/october/Documents/code/inshaka/insh-vue/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/october/Documents/code/inshaka/insh-vue/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/october/Documents/code/inshaka/insh-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/october/Documents/code/inshaka/insh-vue/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICBAaW1wb3J0ICcuLi9hc3NldHMvc2Nzcy9sYXlvdXQvX2xpc3RzLnNjc3MnOwo="},{"version":3,"sources":["/home/october/Documents/code/inshaka/insh-vue/src/components/Lists.vue"],"names":[],"mappings":";IAsFI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/home/october/Documents/code/inshaka/insh-vue/src/components/Lists.vue","sourceRoot":"","sourcesContent":["<template>\n    <section-title></section-title>\n\n    <div class=\"row\">\n        <div class=\"col-md-12\">\n            <div class=\"input-group mb-3\">\n                <form action=\"#\" @submit.prevent=\"fetchResults()\" style=\"width: inherit\">\n                    <div class=\"input-group mb-3\">\n                        <input type=\"text\" class=\"form-control search\" v-model=\"search\" placeholder=\"Search through system.\" aria-label=\"search\" aria-describedby=\"search-submit\">\n\n                        <span class=\"input-group-text search-icon\" id=\"search-submit\">\n                            <button class=\"btn btn-transparent\" type=\"submit\">\n                                <font-awesome-icon class=\"icon\" :icon=\"['fa', 'search']\" /> \n                            </button>\n                        </span>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"row\">\n        <div class=\"col-md-12\">\n            <small class=\"text-muted me-3 fw-bold\">+{{ totals }} total</small>\n            <small class=\"text-muted float-end me-3 fw-bold\">{{ totals }} records found.</small>\n            <table id=\"table\" class=\"table table-striped mt-2\">\n                <thead class=\"table-dark\">\n                    <tr>\n                        <th scope=\"col\">#</th>\n                        <th scope=\"col\">Names </th>\n                        <th scope=\"col\">username </th>\n                        <th scope=\"col\">Email </th>\n                        <th scope=\"col\">Phone </th>\n                        <th scope=\"col\">Action</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr v-for=\"({id, name, username, email, phone}) in data\" :key=\"id\">\n                        <th scope=\"row\">{{ id }}</th>\n                        <td>{{ name }}</td>\n                        <td>{{ username }}</td>\n                        <td>{{ email }}</td>\n                        <td>{{ phone }}</td>\n                        <td>\n                            <p class=\"text-success fw-bold\">\n                                <font-awesome-icon class=\"text-muted\" :icon=\"['fa', 'ellipsis-v']\" /> \n                            </p>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n\n    <div class=\"row navigation\">\n        <div class=\"col-12 d-flex\">\n            <div class=\"mx-auto\">\n                <button class=\"btn default btn-sm me-2\" @click=\"start()\" :disabled=\"hidePrevious\">\n                    <span class=\"mx-1\">Start <font-awesome-icon class=\"icon ms-2\" :icon=\"['fa', 'step-backward']\" /></span>\n                </button>\n\n                <button class=\"btn default btn-sm me-2\" id=\"previous\" @click='previous()' :disabled=\"hidePrevious\">\n                    <font-awesome-icon class=\"icon me-2\" :icon=\"['fa', 'caret-left']\" /> Previous\n                </button>\n\n                <span>\n                    ||\n                </span>\n\n                <button class=\"btn default btn-sm ms-2 me-2\" id=\"next\" @click='next()' :disabled=\"hideNext\">\n                    Next\n                    <font-awesome-icon class=\"icon ms-2\" :icon=\"['fa', 'caret-right']\" />\n                </button>\n\n                <button class=\"btn default btn-sm me-2\" @click=\"end()\" :disabled=\"hideNext\">\n                    <span class=\"mx-1\">End <font-awesome-icon class=\"icon ms-2\" :icon=\"['fa', 'step-forward']\" /></span>\n                </button>\n            </div>\n        </div>\n    </div>\n\n    <form-component></form-component>\n\n</template>\n\n<style lang=\"scss\" scoped>\n    @import '../assets/scss/layout/_lists.scss';\n</style>\n\n<script>\nimport FormComponent from '../components/Form';\nimport SectionTitle from'../components/SectionTitle';\n\nexport default {\n    name: 'Lists',\n    components: {\n        FormComponent,\n        SectionTitle\n    },\n    mounted() {\n        this.getDatabyPage(1, 25, '')\n    },\n    data (){\n        return {\n            error: [],\n            page: 1,\n            limit: 25,\n            totals: '',\n            data: [],\n            current_limit: 25,\n            hidePrevious: true,\n            hideNext: false,\n            max: 0,\n            search: '',\n            awaitingSearch: false\n            \n        }\n    },\n    methods: {\n        getDatabyPage(page, limit, term) {\n            let url = '';\n\n            if(term) {\n                url = '/data/GetAlldata?PhoneNumber=' + term + '&pageNumber=' + page + '&pageSize=' + limit;\n            } else {\n                url = '/data/GetAlldata?pageNumber=' + page + '&pageSize=' + limit;\n            }\n\n            url = '/users'\n\n            this.axios.get(url).then((response) => {\n                this.data = response.data\n                this.totals = this.data.length\n            }).catch(error => {\n                this.error = error.response.data\n                console.log(this.error);\n            })\n        },\n        next() {\n            // increment page + limit\n            this.page++\n            this.current_limit = this.current_limit + this.limit\n\n            // if current limit > limit, terminate\n            if(this.hidePrevious == true && this.current_limit > this.limit) {\n                this.hidePrevious = false\n            }\n\n            // if max - current limit is less than limit, hide next\n            if((this.max - this.current_limit) <= this.limit){\n                this.hideNext = true\n                this.hidePrevious = false\n            }\n\n            // get data to populate lists\n            this.getDatabyPage(this.page, this.limit, '')\n\n            document.getElementById(\"table\").scrollIntoView(true)\n        },\n\n        previous() {\n            // increment page + limit\n            this.page--\n            this.current_limit = this.current_limit - this.limit\n            \n            if(this.hideNext == true && ((this.max - this.current_limit) > this.limit)) {\n                this.hideNext = false\n            }\n\n            // if current limit <= limit, terminate\n            if(this.current_limit <= this.limit) {\n                this.hidePrevious = true\n                this.hideNext = false\n            }\n\n            // get data to populate lists\n            this.getDatabyPage(this.page, this.limit)\n            document.getElementById(\"table\").scrollIntoView(true)\n        },\n        start() {\n            this.page = 1\n            this.current_limit = this.limit\n            \n            this.hideNext = false\n            this.hidePrevious = true\n\n            this.getDatabyPage(this.page, this.limit, '')\n        },\n\n        end() {\n            this.page = this.max/this.limit\n            this.current_limit = this.max - this.limit\n\n            this.hideNext = true\n            this.hidePrevious = false\n\n            this.getDatabyPage(this.page, this.limit,)\n        },\n        \n        fetchResults(){\n            if(this.search !== '') {\n                this.getDatabyPage(this.page, this.limit, this.search)\n            } else {\n                 this.getDatabyPage(1, 25, '')\n            }\n        }\n    }\n}\n</script>"]}]}