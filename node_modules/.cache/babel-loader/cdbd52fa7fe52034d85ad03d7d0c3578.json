{"remainingRequest":"/home/october/Documents/code/kipekee/front/node_modules/thread-loader/dist/cjs.js!/home/october/Documents/code/kipekee/front/node_modules/babel-loader/lib/index.js!/home/october/Documents/code/kipekee/front/node_modules/eslint-loader/index.js??ref--13-0!/home/october/Documents/code/kipekee/front/src/mixins/image.js","dependencies":[{"path":"/home/october/Documents/code/kipekee/front/src/mixins/image.js","mtime":1640707417198},{"path":"/home/october/Documents/code/kipekee/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/october/Documents/code/kipekee/front/node_modules/thread-loader/dist/cjs.js","mtime":1630502843336},{"path":"/home/october/Documents/code/kipekee/front/node_modules/babel-loader/lib/index.js","mtime":1630502822507},{"path":"/home/october/Documents/code/kipekee/front/node_modules/eslint-loader/index.js","mtime":1630502826060}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG1ldGhvZHM6IHsKICAgIG9uSW1hZ2VDaGFuZ2U6IGZ1bmN0aW9uIG9uSW1hZ2VDaGFuZ2UoZXZlbnQsIGFycmF5KSB7CiAgICAgIHRoaXMuc3RhdHVzX2RhdGEubG9hZGluZyA9IHRydWU7CiAgICAgIHZhciBmaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdOwoKICAgICAgaWYgKGZpbGUuc2l6ZSA+IDEwNDg1NzYpIHsKICAgICAgICB0aGlzLnN1Y2Nlc3MgPSBmYWxzZTsKICAgICAgICB0aGlzLmVycm9yID0gdHJ1ZTsKICAgICAgICB0aGlzLmVycm9yX21lc3NhZ2UgPSAiVGhpcyBpbWFnZSBpcyBhYm92ZSB0aGUgcmVjb21tZW5kZWQgc2l6ZS4gUGxlYXNlIHVwbG9hZCBhbiBpbWFnZSB1bmRlciAxTUIuIjsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy5lcnJvciA9PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLmVycm9yID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmVycm9yX21lc3NhZ2UgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgdmFyIGltYWdlRmlsZSA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZXZlbnQudGFyZ2V0LmZpbGVzWzBdKTsKICAgICAgICB0aGlzLmNyZWF0ZUltYWdlKGltYWdlRmlsZSwgdGhpcy5jb252ZXJ0SW1hZ2UsIGFycmF5KTsKICAgICAgfQogICAgfSwKICAgIGNyZWF0ZUltYWdlOiBmdW5jdGlvbiBjcmVhdGVJbWFnZShpbWFnZUZpbGUsIGNhbGxiYWNrLCBhcnJheSkgewogICAgICB2YXIgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTsKCiAgICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gY2FsbGJhY2soaW1hZ2UsIGFycmF5KTsKICAgICAgfTsKCiAgICAgIGltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywgaW1hZ2VGaWxlKTsKICAgIH0sCiAgICBjb252ZXJ0SW1hZ2U6IGZ1bmN0aW9uIGNvbnZlcnRJbWFnZShpbWFnZSwgYXJyYXkpIHsKICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuZHJhd0ltYWdlVG9DYW52YXMoaW1hZ2UpOwogICAgICB2YXIgcmVzdWx0ID0gY2FudmFzLnRvRGF0YVVSTCgpOwogICAgICB0aGlzW2FycmF5XS5pbWFnZSA9IHJlc3VsdDsKICAgICAgY29uc29sZS5sb2codGhpc1thcnJheV0pOwogICAgICB0aGlzLnN0YXR1c19kYXRhLmxvYWRpbmcgPSBmYWxzZTsKICAgIH0sCiAgICBkcmF3SW1hZ2VUb0NhbnZhczogZnVuY3Rpb24gZHJhd0ltYWdlVG9DYW52YXMoaW1hZ2UpIHsKICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgICBjYW52YXMud2lkdGggPSBpbWFnZS53aWR0aDsKICAgICAgY2FudmFzLmhlaWdodCA9IGltYWdlLmhlaWdodDsKICAgICAgY2FudmFzLmdldENvbnRleHQoJzJkJykuZHJhd0ltYWdlKGltYWdlLCAwLCAwLCBpbWFnZS53aWR0aCwgaW1hZ2UuaGVpZ2h0KTsKICAgICAgcmV0dXJuIGNhbnZhczsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/october/Documents/code/kipekee/front/src/mixins/image.js"],"names":["methods","onImageChange","event","array","status_data","loading","file","target","files","size","success","error","error_message","imageFile","URL","createObjectURL","createImage","convertImage","callback","image","document","createElement","onload","setAttribute","canvas","drawImageToCanvas","result","toDataURL","console","log","width","height","getContext","drawImage"],"mappings":";;;;AAAA,eAAe;AACXA,EAAAA,OAAO,EAAE;AACLC,IAAAA,aADK,yBACSC,KADT,EACgBC,KADhB,EACuB;AACxB,WAAKC,WAAL,CAAiBC,OAAjB,GAA2B,IAA3B;AACA,UAAMC,IAAI,GAAGJ,KAAK,CAACK,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAb;;AAEA,UAAGF,IAAI,CAACG,IAAL,GAAY,OAAf,EAAwB;AACpB,aAAKC,OAAL,GAAe,KAAf;AACA,aAAKC,KAAL,GAAa,IAAb;AACA,aAAKC,aAAL,GAAqB,6EAArB;AACH,OAJD,MAIO;AACH,YAAG,KAAKD,KAAL,IAAe,IAAlB,EAAuB;AACnB,eAAKA,KAAL,GAAa,KAAb;AACA,eAAKC,aAAL,GAAqB,IAArB;AACH;;AAED,YAAMC,SAAS,GAAGC,GAAG,CAACC,eAAJ,CAAoBb,KAAK,CAACK,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAApB,CAAlB;AACA,aAAKQ,WAAL,CAAiBH,SAAjB,EAA4B,KAAKI,YAAjC,EAA+Cd,KAA/C;AACH;AACJ,KAlBI;AAmBLa,IAAAA,WAnBK,uBAmBOH,SAnBP,EAmBkBK,QAnBlB,EAmB4Bf,KAnB5B,EAmBmC;AACpC,UAAMgB,KAAK,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;;AACAF,MAAAA,KAAK,CAACG,MAAN,GAAe;AAAA,eAAMJ,QAAQ,CAACC,KAAD,EAAQhB,KAAR,CAAd;AAAA,OAAf;;AACAgB,MAAAA,KAAK,CAACI,YAAN,CAAmB,KAAnB,EAA0BV,SAA1B;AACH,KAvBI;AAwBLI,IAAAA,YAxBK,wBAwBQE,KAxBR,EAwBehB,KAxBf,EAwBsB;AACvB,UAAMqB,MAAM,GAAG,KAAKC,iBAAL,CAAuBN,KAAvB,CAAf;AACA,UAAIO,MAAM,GAAGF,MAAM,CAACG,SAAP,EAAb;AAEA,WAAKxB,KAAL,EAAYgB,KAAZ,GAAoBO,MAApB;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAK1B,KAAL,CAAZ;AACA,WAAKC,WAAL,CAAiBC,OAAjB,GAA2B,KAA3B;AACH,KA/BI;AAgCLoB,IAAAA,iBAhCK,6BAgCaN,KAhCb,EAgCoB;AACrB,UAAMK,MAAM,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;AACAG,MAAAA,MAAM,CAACM,KAAP,GAAeX,KAAK,CAACW,KAArB;AACAN,MAAAA,MAAM,CAACO,MAAP,GAAgBZ,KAAK,CAACY,MAAtB;AACAP,MAAAA,MAAM,CAACQ,UAAP,CAAkB,IAAlB,EAAwBC,SAAxB,CAAkCd,KAAlC,EAAyC,CAAzC,EAA4C,CAA5C,EAA+CA,KAAK,CAACW,KAArD,EAA4DX,KAAK,CAACY,MAAlE;AACA,aAAOP,MAAP;AACH;AAtCI;AADE,CAAf","sourcesContent":["export default {\n    methods: {\n        onImageChange(event, array) {\n            this.status_data.loading = true\n            const file = event.target.files[0]\n            \n            if(file.size > 1048576) {\n                this.success = false\n                this.error = true\n                this.error_message = \"This image is above the recommended size. Please upload an image under 1MB.\"\n            } else {\n                if(this.error ==  true){\n                    this.error = false\n                    this.error_message = null\n                }\n        \n                const imageFile = URL.createObjectURL(event.target.files[0]);\n                this.createImage(imageFile, this.convertImage, array);   \n            }          \n        },\n        createImage(imageFile, callback, array) {\n            const image = document.createElement('img');\n            image.onload = () => callback(image, array);\n            image.setAttribute('src', imageFile);\n        },\n        convertImage(image, array) {\n            const canvas = this.drawImageToCanvas(image);\n            var result = canvas.toDataURL()\n\n            this[array].image = result\n            console.log(this[array]);\n            this.status_data.loading = false\n        },\n        drawImageToCanvas(image) {\n            const canvas = document.createElement('canvas');\n            canvas.width = image.width;\n            canvas.height = image.height;\n            canvas.getContext('2d').drawImage(image, 0, 0, image.width, image.height);\n            return canvas;\n        }\n    }\n}"]}]}