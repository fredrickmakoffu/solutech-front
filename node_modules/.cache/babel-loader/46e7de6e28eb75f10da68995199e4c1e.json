{"remainingRequest":"/home/october/Documents/code/solutech/front/node_modules/babel-loader/lib/index.js!/home/october/Documents/code/solutech/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/october/Documents/code/solutech/front/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/october/Documents/code/solutech/front/src/components/Modal/OrderModal.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/october/Documents/code/solutech/front/src/components/Modal/OrderModal.vue","mtime":1648651216398},{"path":"/home/october/Documents/code/solutech/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/october/Documents/code/solutech/front/node_modules/babel-loader/lib/index.js","mtime":1630502822507},{"path":"/home/october/Documents/code/solutech/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/october/Documents/code/solutech/front/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCBTdGF0dXMgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9TdGF0dXMnOwppbXBvcnQgTm9EYXRhIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvTm9EYXRhJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdPcmRlck1vZGFsJywKICBwcm9wczogWydvcmRlcnMnXSwKICBjb21wb25lbnRzOiB7CiAgICBTdGF0dXM6IFN0YXR1cywKICAgIE5vRGF0YTogTm9EYXRhCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YTogewogICAgICAgIG9yZGVyX2l0ZW1zOiBbXQogICAgICB9LAogICAgICBzdGF0dXNfZGF0YTogewogICAgICAgIHN1Y2Nlc3M6IGZhbHNlLAogICAgICAgIHN1Y2Nlc3NfbWVzc2FnZTogbnVsbCwKICAgICAgICBlcnJvcjogZmFsc2UsCiAgICAgICAgZXJyb3JfbWVzc2FnZTogbnVsbCwKICAgICAgICBsb2FkaW5nOiBmYWxzZQogICAgICB9LAogICAgICBpdGVtczogW10sCiAgICAgIGl0ZW06IG51bGwKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRJdGVtcygpOwogIH0sCiAgbWV0aG9kczogewogICAgYWRkSXRlbTogZnVuY3Rpb24gYWRkSXRlbShpZCwgZXZlbnQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmIChldmVudC5xdWVyeVNlbGVjdG9yKCcuY2hlY2tlZCcpLmNsYXNzTGlzdC5jb250YWlucygnZC1ub25lJykpIHsKICAgICAgICB0aGlzLmRhdGEub3JkZXJfaXRlbXMucHVzaCh7CiAgICAgICAgICBpdGVtX2lkOiBpZAogICAgICAgIH0pOwogICAgICAgIGV2ZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGVja2VkJykuY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGkgPSAwOwogICAgICAgIHRoaXMuZGF0YS5vcmRlcl9pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICBpZiAoaWQgPT0gZWxlbWVudFsnaXRlbV9pZCddKSB7CiAgICAgICAgICAgIF90aGlzLmRhdGEub3JkZXJfaXRlbXMuc3BsaWNlKGksIDEpOwogICAgICAgICAgfQoKICAgICAgICAgIGkrKzsKICAgICAgICB9KTsKICAgICAgICBldmVudC5xdWVyeVNlbGVjdG9yKCcuY2hlY2tlZCcpLmNsYXNzTGlzdC5hZGQoJ2Qtbm9uZScpOwogICAgICB9CiAgICB9LAogICAgY3JlYXRlT3JkZXI6IGZ1bmN0aW9uIGNyZWF0ZU9yZGVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuYXhpb3MucG9zdCgnYXBpL29yZGVycy8nLCB0aGlzLmRhdGEub3JkZXJfaXRlbXMpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGF0dXMnKS5zY3JvbGxJbnRvVmlldyh7CiAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcKICAgICAgICB9KTsKICAgICAgICBfdGhpczIuc3RhdHVzX2RhdGEubG9hZGluZyA9IGZhbHNlOwogICAgICAgIF90aGlzMi5zdGF0dXNfZGF0YS5lcnJvciA9IGZhbHNlOwogICAgICAgIF90aGlzMi5zdGF0dXNfZGF0YS5zdWNjZXNzID0gdHJ1ZTsKICAgICAgICBfdGhpczIuc3RhdHVzX2RhdGEuc3VjY2Vzc19tZXNzYWdlID0gJ1N1Y2Nlc3MhJzsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5zdGF0dXNfZGF0YS5zdWNjZXNzID0gZmFsc2U7CiAgICAgICAgfSwgMTUwMCk7CgogICAgICAgIF90aGlzMi5nZXRPcmRlcnMoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXR1cycpLnNjcm9sbEludG9WaWV3KHsKICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJwogICAgICAgIH0pOwogICAgICAgIF90aGlzMi5zdGF0dXNfZGF0YS5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMyLnN0YXR1c19kYXRhLmVycm9yID0gdHJ1ZTsKICAgICAgICBfdGhpczIuc3RhdHVzX2RhdGEuc3VjY2VzcyA9IGZhbHNlOwogICAgICAgIF90aGlzMi5zdGF0dXNfZGF0YS5lcnJvcl9tZXNzYWdlID0gZXJyb3IubWVzc2FnZTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0T3JkZXJzOiBmdW5jdGlvbiBnZXRPcmRlcnMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5heGlvcy5nZXQoJ2FwaS9vcmRlcnMnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMy4kZW1pdCgndXBkYXRlOm9yZGVycycsIHJlc3BvbnNlLmRhdGEuZGF0YSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldEl0ZW1zOiBmdW5jdGlvbiBnZXRJdGVtcygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLmF4aW9zLmdldCgnYXBpL2l0ZW1zJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczQuaXRlbXMgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/home/october/Documents/code/solutech/front/src/components/Modal/OrderModal.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <!-- Modal -->\n    <div class=\"modal fade\" id=\"order\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"formsLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\" role=\"document\">\n            <div class=\"modal-content\">\n                <div id=\"modal-header\" class=\"modal-header pb-0 border-0\">\n                    <span class=\"d-block\">\n                        <h5 class=\"content-title-min\">Order Details</h5>\n                        <small class=\"text-muted\">Create an order</small>\n                    </span>\n                </div>\n                            \n                <div class=\"modal-body\">\n                    <div class=\"row\">\n                        <div class=\"col-md-12 col-sm-12\">\n                            <span id=\"status\"></span>\n                            <status v-model:status_data=status_data></status>\n\n                            <no-data v-if=\" !items.length\" :message=\"'No items found.'\"></no-data>\n\n                            <div id=\"tables\" class=\"row mt-4\"> \n                                <div class=\"col-md-12\">\n                                    <small class=\"text-muted float-end me-3 fw-bold mb-2\">{{ items.length }} records showing</small>\n\n                                    <table id=\"table\" class=\"table table-striped mt-2\">\n                                        <thead class=\"table-dark\">\n                                            <tr>\n                                                <th scope=\"col\">#</th>\n                                                <th scope=\"col\">Name</th>\n                                            </tr>\n                                        </thead>\n\n                                        <tbody>\n                                            <tr v-for=\"({ name, id }, index) in items\" :key=\"index\" @click=\"addItem(id, $event.currentTarget)\">\n                                                <th scope=\"row\">{{ index + 1 }} </th>\n                                                <td class=\"d-flex\">\n                                                    <span>{{ name }}</span>\n                                                    <span class=\"ms-auto me-4 checked d-none\">\n                                                        <font-awesome-icon class=\"text-success\" :icon=\"['fa', 'check-circle']\"></font-awesome-icon>\n                                                    </span>\n                                                </td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n\n                        </div>\n                        <div class=\"col-12\">\n                            <button class=\"btn btn-success\" @click=\"createOrder()\">\n                                Create order\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<style lang=\"scss\" scoped>\n    @import '../../assets/scss/helpers/_breakpoints.scss';\n    @import '../../assets/scss/layout/_lists.scss';\n\n    #tables {\n        @include media(\"<=laptop\") {\n            display: block;\n        }\n    }\n</style>\n\n<script>\nimport Status from '../../components/Status';\nimport NoData from '../../components/NoData';\n\nexport default {\n    name: 'OrderModal',\n    props: ['orders'],\n    components: {\n        Status,\n        NoData\n    },\n    data() {\n        return {\n            data: {\n                order_items: [],\n            },\n            status_data: {\n                success: false,\n                success_message: null, \n                error: false,\n                error_message: null,\n                loading: false\n            },\n            items: [],\n            item: null\n        }\n    },\n    mounted() {\n        this.getItems()\n    },\n    methods: {\n        addItem(id, event) {\n            if(event.querySelector('.checked').classList.contains('d-none')) {\n                \n                this.data.order_items.push({\n                    item_id: id\n                })\n\n                event.querySelector('.checked').classList.remove('d-none')\n            } else {\n                let i = 0\n                \n                this.data.order_items.forEach(element => {\n                    if(id == element['item_id']) {\n                        this.data.order_items.splice(i, 1) \n                    }\n\n                    i++\n                });\n\n                event.querySelector('.checked').classList.add('d-none')\n            }\n        },\n        createOrder() {\n            this.axios.post('api/orders/', this.data.order_items).then(() => {\n                document.getElementById('status').scrollIntoView({behavior: 'smooth'})\n\n                this.status_data.loading = false\n                this.status_data.error = false\n                this.status_data.success = true\n                this.status_data.success_message = 'Success!'\n\n                setTimeout(() => {\n                    this.status_data.success = false\n                }, 1500);\n\n                this.getOrders()          \n            }).catch((error) => {\n                document.getElementById('status').scrollIntoView({behavior: 'smooth'})\n\n                this.status_data.loading = false\n                this.status_data.error = true\n                this.status_data.success = false\n                this.status_data.error_message = error.message\n            })                      \n        },\n        getOrders() {\n            this.axios.get('api/orders').then(response => {\n                this.$emit('update:orders', response.data.data)\n            })\n        },\n        getItems() {\n            this.axios.get('api/items').then(response => {\n                this.items = response.data.data\n            })\n        }\n    }\n}\n</script>"],"sourceRoot":""}]}